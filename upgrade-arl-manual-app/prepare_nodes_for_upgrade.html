<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Prepare the nodes for upgrade</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Prepare the nodes for upgrade" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html" />
	<meta property="og:description" content="The nodes must be prepared before you can upgrade." />
  <meta property="og:image" content="https://docs.netapp.com/us-en/ontap-systems-upgrade/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="The nodes must be prepared before you can upgrade.">
  <meta name="keywords" content=" prepare, nodes, upgrade, missing disks, HA pair, san">
  
  

  <!-- Icons -->
  <link rel="icon" href="/us-en/ontap-systems-upgrade/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-systems-upgrade/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/us-en/ontap-systems-upgrade/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-systems-upgrade/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-systems-upgrade/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-systems-upgrade/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/us-en/ontap-systems-upgrade/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/us-en/ontap-systems-upgrade/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/us-en/ontap-systems-upgrade/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/us-en/ontap-systems-upgrade/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/us-en/ontap-systems-upgrade/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-systems-upgrade/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-systems-upgrade/css/na-pagenav.css' type='text/css'>

  
  <link rel="stylesheet" href="/us-en/ontap-systems-upgrade/css/landing-page.css" type="text/css">
  <link rel="stylesheet" href="/us-en/ontap-systems-upgrade/css/tabbed-blocks.css" type="text/css">
  <link rel="stylesheet" href='/us-en/ontap-systems-upgrade/css/product-family.css' type="text/css">
  

  
  <link rel='stylesheet' href='/us-en/ontap-systems-upgrade/css/na-feature.css' type='text/css'>
  


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/us-en/ontap-systems-upgrade/js/na-search.js'></script>
  

  
  <script src='/us-en/ontap-systems-upgrade/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/us-en/ontap-systems-upgrade/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-systems-upgrade/css/prism-netapp.css' type='text/css'>


  <script src='/us-en/ontap-systems-upgrade/js/na-utility.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/clouddocs.js'></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    var head = document.getElementsByTagName('head')[0];
    var adobe = document.createElement("script");
    adobe.type = "text/javascript";
    adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js";
    head.appendChild(adobe);
  }
  </script>
  <script src='/us-en/ontap-systems-upgrade/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/us-en/ontap-systems-upgrade/js/toc.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
  <script src='/us-en/ontap-systems-upgrade/js/version-dropdown.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/product-family.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/FileSaver.min.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/jszip-utils.min.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/jszip.min.js'></script>
  <script src='/us-en/ontap-systems-upgrade/js/pdf-ux.js'></script>
</head>


  <body class role="document">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" 
          data-search-html="/us-en/ontap-systems-upgrade/search.html"
          data-type="widget" 
          data-placeholder="Search Documentation" 
          data-no-results-found="No results were found for {query}" 
          data-did-you-mean="Search for {suggestion}." 
          data-no-results-found-did-you-mean="No results found for {query}. Did you mean {suggestion}?" 
          data-results-found="{hitCount} results found"  
          data-sk-es-pf-indexes=""></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar">
    <!-- Start Language Selector --><div id="ie-i18n" class="n-property-bar__lang-selector">
      <div id="ie-i18n-menu">
      <span class="ie-i18n-lang">English</span>
        <button class="ie-i18n-icon-container" type="button">
          <svg class="n-globe__icon" aria-labelledby="title">
            <title>globe</title>
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#globe"></use>
          </svg>
        </button>
      </div>
      <div id="n-property-navigation-bar__menu--language-selector" class="ie-i18n-results-container n-menu n-menu--v3 n-menu--is-active" style="display: none;">
        <div class="n-language-selector-menu">
          <ul class="n-menu__list">
            <li class="n-menu__list-column">
              <ul class="n-menu__list"><li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="https://docs.netapp.com/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a>
                </li><li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="https://docs.netapp.com/ja-jp/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html" class="n-menu__header-text"><span translate="no" class="notranslate">日本語</span></a>
                </li><li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="https://docs.netapp.com/zh-cn/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html" class="n-menu__header-text"><span translate="no" class="notranslate">简体中文</span></a>
                </li><li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="https://docs.netapp.com/ko-kr/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html" class="n-menu__header-text"><span translate="no" class="notranslate">한국어</span></a>
                </li></ul>
            </li>
          </ul>
        </div>
      </div>
    </div><!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" id="sidebar-height">
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">
    <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>Available PDFs<span>
    </span>
  </a>
</div>
<div class="n-pdf-body-container">
  <ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><li class="pdf-ux-container">
        <a target="_blank" href="/us-en/ontap-systems-upgrade/pdfs/fullsite-sidebar/AFF_and_FAS_System_Upgrade_Documentation.pdf" >
          <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>PDF of this doc site</a>



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Upgrade_by_moving_volumes_or_storage.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Upgrade by moving volumes or storage
          </a>
          







    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Upgrade_by_moving_storage.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Upgrade by moving storage
          </a>
          















    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Optional___Move_internal_storage_or_convert_to_drive_shelf.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Optional - Move internal storage or convert to drive shelf
          </a>
          







          
        </li>
      </ul>
    

  







    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Complete_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Complete upgrade
          </a>
          

    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Overview.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Overview
          </a>
          

    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Complete_in_ONTAP_9_8.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Complete in ONTAP 9.8
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Complete_in_ONTAP_9_7_or_earlier.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Complete in ONTAP 9.7 or earlier
          </a>
          







          
        </li>
      </ul>
    

  



          
        </li>
      </ul>
    

  



          
        </li>
      </ul>
    

  



          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Upgrade_by_moving_volumes.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Upgrade by moving volumes
          </a>
          











    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Move__delete__or_create_SAN_LIFS.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Move, delete, or create SAN LIFS
          </a>
          









          
        </li>
      </ul>
    

  







          
        </li>
      </ul>
    

  



          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Use_aggregate_relocation_to_upgrade_controller_hardware.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Use aggregate relocation to upgrade controller hardware
          </a>
          



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Use__system_controller_replace__commands_to_upgrade_AFF_A700_to_AFF_A900_running_ONTAP_9_10_1_RC2_or_later.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Use "system controller replace" commands to upgrade AFF A700 to AFF A900 running ONTAP 9.10.1 RC2 or later
          </a>
          















    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_1__Prepare_for_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 1. Prepare for upgrade
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_2__Relocate_resources_and_retire_AFF_A700_node1.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 2. Relocate resources and retire AFF A700 node1
          </a>
          









          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_3__Boot_node1_with_the_AFF_A900_controller_module_and_NVS.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 3. Boot node1 with the AFF A900 controller module and NVS
          </a>
          









          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_4__Relocate_resources_from_node2_and_retire_node2.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 4. Relocate resources from node2 and retire node2
          </a>
          





          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_5__Install_the_AFF_A900_NVS_and_controller_module_on_node2.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 5. Install the AFF A900 NVS and controller module on node2
          </a>
          





          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_6__Boot_node2_with_the_AFF_A900_controller_module_and_NVS.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 6. Boot node2 with the AFF A900 controller module and NVS
          </a>
          









          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_7__Complete_the_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 7. Complete the upgrade
          </a>
          











          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Troubleshoot.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Troubleshoot
          </a>
          











          
        </li>
      </ul>
    

  





          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Use__system_controller_replace__commands_to_upgrade_controller_hardware_running_ONTAP_9_8_or_later.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Use "system controller replace" commands to upgrade controller hardware running ONTAP 9.8 or later
          </a>
          





















    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_1__Prepare_for_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 1. Prepare for upgrade
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_2__Relocate_and_retire_node1.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 2. Relocate and retire node1
          </a>
          











          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_3__Install_and_boot_node3.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 3. Install and boot node3
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_4__Relocate_and_retire_node2.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 4. Relocate and retire node2
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_5__Install_and_boot_node4.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 5. Install and boot node4
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_6__Complete_the_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 6. Complete the upgrade
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Troubleshoot.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Troubleshoot
          </a>
          











          
        </li>
      </ul>
    

  





          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Manually_upgrade_controller_hardware_running_ONTAP_9_8_or_later.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Manually upgrade controller hardware running ONTAP 9.8 or later
          </a>
          















    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_1__Prepare_for_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 1. Prepare for upgrade
          </a>
          




    <ul class="subfolders" style="display:none;"><li class="active pdf-hide">
  <a target="_blank" href="/us-en/ontap-systems-upgrade/pdfs/pages/upgrade-arl-manual-app/prepare_nodes_for_upgrade.pdf" >
    <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
    PDF of this page
  </a>
</li>

</ul>
  













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_2__Relocate_and_retire_node1.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 2. Relocate and retire node1
          </a>
          











          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_3__Install_and_boot_node3.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 3. Install and boot node3
          </a>
          















          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_4__Record_information_and_retire_node2.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 4. Record information and retire node2
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_5__Install_and_boot_node4.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 5. Install and boot node4
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_6__Complete_the_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 6. Complete the upgrade
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Troubleshoot.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Troubleshoot
          </a>
          













          
        </li>
      </ul>
    

  





          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Use__system_controller_replace__commands_to_upgrade_controller_hardware_running_ONTAP_9_5_to_9_7.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Use "system controller replace" commands to upgrade controller hardware running ONTAP 9.5 to 9.7
          </a>
          





















    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_1__Prepare_for_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 1. Prepare for upgrade
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_2__Relocate_and_retire_node1.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 2. Relocate and retire node1
          </a>
          











          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_3__Install_and_boot_node3.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 3. Install and boot node3
          </a>
          















          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_4__Relocate_and_retire_node.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 4. Relocate and retire node
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_5__Install_and_boot_node4.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 5. Install and boot node4
          </a>
          















          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_6__Complete_the_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 6. Complete the upgrade
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Troubleshoot.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Troubleshoot
          </a>
          











          
        </li>
      </ul>
    

  





          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Manually_upgrade_controller_hardware_running_ONTAP_9_7_or_earlier.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Manually upgrade controller hardware running ONTAP 9.7 or earlier
          </a>
          













    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Reconfigure_the_FC_switch_layout_for_ONTAP_9_1_or_later.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Reconfigure the FC switch layout for ONTAP 9.1 or later
          </a>
          



















          
        </li>
      </ul>
    

  





    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_1__Prepare_for_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 1. Prepare for upgrade
          </a>
          

















          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_2__Relocate_and_retire_node1.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 2. Relocate and retire node1
          </a>
          











          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_3__Install_and_boot_node3.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 3. Install and boot node3
          </a>
          

















          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_4__Record_information_and_retire_node2.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 4. Record information and retire node2
          </a>
          







          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_5__Install_and_boot_node4.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 5. Install and boot node4
          </a>
          















          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Stage_6__Complete_the_upgrade.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Stage 6. Complete the upgrade
          </a>
          













          
        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          <a target="_blank" 
            
              href="/us-en/ontap-systems-upgrade/pdfs/sidebar/Troubleshoot.pdf" 
            
          >
            <img src="/us-en/ontap-systems-upgrade/images/pdf.png" width="16" height="16"/>
            Troubleshoot
          </a>
          













          
        </li>
      </ul>
    

  





          
        </li>
      </ul>
    

  



          
        </li>
      </ul>
    

  


</li></ul>
  <div class="zip-pdf-link-container" style="display: none;">   
    <a href="#" id="zipPdf">
      <img src="/us-en/ontap-systems-upgrade/images/pdf-zip.png" width="16" height="16"/>
      <pre>Collection of separate PDF docs<span class="zip-size"></span></pre>
    </a><div id="zip-link-popup" class="hide">
    <div class="inner-modal">
        <div class="downloading-progress">
            <div class="spinner"></div>
            <h1>Creating your file...</h1>
            <div>This may take a few minutes. Thanks for your patience.</div>
            <button class="cancel-download-btn" type="button">Cancel</button>
        </div>
        <div class="download-complete hide">
            <div class="done-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"/></svg>
            </div>
            <div>Your file is ready</div>
            <button class="cancel-download-btn" type="button">OK</button>
        </div>
    </div>
</div>
<script>
    $(".cancel-download-btn").click(function(){
        $("#zip-link-popup").addClass("hide");
        $("#zip-link-popup .downloading-progress").removeClass("hide");
        $("#zip-link-popup .download-complete").addClass("hide");
    });
</script></div>
</div>
<script>
  $("#toggleContainerPdf li.active:last-child").parents('ul.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
    $(".n-pdf-body-container .zip-pdf-link-container").toggle('display');
  });
</script><div class="sidebar-nav-container">
  <ul id="mysidebar" class="nav"><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/index.html">
        AFF and FAS System Upgrade Documentation
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Upgrade by moving volumes or storage</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-decide-to-use-this-guide.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-considerations.html">
        Considerations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-methods.html">
        Choose method
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Upgrade by moving storage</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-by-moving-storage-parent.html">
        Workflow
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-prepare-when-moving-storage.html">
        Prepare
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-shutdown-remove-original-nodes.html">
        Shut down original nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-remove-disk-ownership-new-nodes.html">
        Remove disk ownership
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-reset-default-configuration-node3-and-node4.html">
        Reset default configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-install-new-nodes.html">
        Install new nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-set-up-new-nodes.html">
        Set up new nodes
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Optional - Move internal storage or convert to drive shelf</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-optional-move-internal-storage.html">
        Choices
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-move-internal-drives.html">
        Move internal drives
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-convert-node-to-shelf.html">
        Convert node to drive shelf
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-attach-shelves-reassign-disks.html">
        Attach storage shelves and reassign disk ownership
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-restore-root-volume-config.html">
        Restore root volume configuration
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Complete upgrade</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-systems-upgrade/upgrade/upgrade-complete.html">
        <div class="na-navbar-padding"> Overview</div>
      </a>
      <ul><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Complete in ONTAP 9.8</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-complete-ontap-9-8.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-map-network-ports-ontap-9-8.html">
        Map network ports using ONTAP 9.8
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-final-upgrade-steps-in-ontap-9-8.html">
        Perform final steps in ONTAP 9.8
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Complete in ONTAP 9.7 or earlier</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-complete-ontap-9-7-or-earlier.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-map-network-ports-ontap-9-7-or-earlier.html">
        Map network ports using ONTAP 9.7 or earlier
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-final-steps-ontap-9-7-or-earlier-move-storage.html">
        Perform final steps in ONTAP 9.7 or earlier
      </a></li></ul></li></ul></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Upgrade by moving volumes</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-by-moving-volumes-parent.html">
        Workflow
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-prepare-when-moving-volumes.html">
        Prepare
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-install-and-join-new-nodes-move-vols.html">
        Install and join new nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-create-aggregate-move-volumes.html">
        Create aggregate and move volumes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-move-lifs-to-new-nodes.html">
        Move non-SAN data LIFs and cluster management LIFs
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Move, delete, or create SAN LIFS</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade_move_delete_recreate_san_lifs.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade_considerations_move_san_lifs.html">
        Considerations for moving SAN LIFs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-delete-san-lifs.html">
        Delete SAN LIFs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade_create_recreate_san_lifs.html">
        Create new SAN LIFs or re-create deleted SAN LIFs
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-unjoin-original-nodes-move-volumes.html">
        Unjoin original nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade/upgrade-complete-move-volumes.html">
        Complete upgrade
      </a></li></ul></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Use aggregate relocation to upgrade controller hardware</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl/index.html">
        Overview
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Use "system controller replace" commands to upgrade AFF A700 to AFF A900 running ONTAP 9.10.1 RC2 or later</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/automate_the_controller_upgrade_process.html">
        Automate the controller upgrade process
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/decide_to_use_the_aggregate_relocation_guide.html">
        Decide whether to use the aggregate relocation content
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/required_tools_and_documentation.html">
        Required tools and documentation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/guidelines_for_upgrading_controllers_with_arl.html">
        Guidelines for upgrading from an AFF A700 to an AFF A900 with ARL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/overview_of_the_arl_upgrade.html">
        Overview of the ARL upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/upgrade_node_pair.html">
        Upgrade the node pair
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 1. Prepare for upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/verify_upgrade_hardware.html">
        Verify the upgrade hardware
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/prepare_nodes_for_upgrade.html">
        Prepare the nodes for upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/get_ip_address_of_external_kms_for_storage_encryption.html">
        Get an IP address of an external key management server for storage encryption
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 2. Relocate resources and retire AFF A700 node1</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/relocate_non_root_aggr_and_nas_data_lifs_node1_node2.html">
        Relocate non-root aggregates and NAS data LIFs owned by node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/relocate_failed_or_vetoed_aggr.html">
        Relocate failed or vetoed aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/retire_node1.html">
        Retire node1
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/netboot_node1.html">
        Netboot node1
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 3. Boot node1 with the AFF A900 controller module and NVS</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/boot_node1_with_a900_controller_and_nvs.html">
        Boot node1 with the AFF A900 controller module and NVS
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/verify_node1_installation.html">
        Verify the node1 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/restore_key_manager_config_upgraded_node1.html">
        Restore key-manager configuration on the upgraded node1
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/move_non_root_aggr_nas_lifs_node1_from_node2_to_upgraded_node1.html">
        Move non-root aggregates and NAS data LIFs owned by node1 from node2 to the upgraded node1
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 4. Relocate resources from node2 and retire node2</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/relocate_non_root_aggr_nas_lifs_from_node2_to_node1.html">
        Relocate non-root aggregates and NAS data LIFs from node2 to node1
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/retire_node2.html">
        Retire node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 5. Install the AFF A900 NVS and controller module on node2</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/install_a900_nvs_and_controller_on_node2.html">
        Install AFF A900 NVS and controller module on node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/netboot_node2.html">
        Netboot node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 6. Boot node2 with the AFF A900 controller module and NVS</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/boot_node2_with_a900_controller_and_nvs.html">
        Boot node2 with the AFF A900 controller module and NVS
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/verify_node2_installation.html">
        Verify the node2 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/restore_key_manager_config_node2.html">
        Restore key-manager configuration on node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/move_non_root_aggr_and_nas_data_lifs_back_to_node2.html">
        Move non-root aggregates and NAS data LIFs back to node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 7. Complete the upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/ensure_new_controllers_are_set_up_correctly.html">
        Ensure that the new controllers are set up correctly
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/set_up_storage_encryption_new_module.html">
        Set up Storage Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/set_up_netapp_volume_encryption_new_module.html">
        Set up NetApp Volume Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/decommission_old_system.html">
        Decommission the old system
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/resume_snapmirror_operations.html">
        Resume SnapMirror operations
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Troubleshoot</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/troubleshoot_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/aggregate_relocation_failures.html">
        Aggregate relocation failures
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/reboots_panics_or_power_cycles.html">
        Reboots, panics, or power cycles
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/issues_in_multiple_stages_of_procedure.html">
        Issues that can arise in multiple stages of the procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/lif_migration_failure.html">
        LIF migration failure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-affa900/other_references.html">
        References
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Use "system controller replace" commands to upgrade controller hardware running ONTAP 9.8 or later</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/automate_the_controller_upgrade_process.html">
        Automate the controller upgrade process
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/decide_to_use_the_aggregate_relocation_guide.html">
        Decide whether to use the aggregate relocation content
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/required_tools_and_documentation.html">
        Required tools and documentation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/guidelines_for_upgrading_controllers_with_arl.html">
        Guidelines for upgrading controllers with ARL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/verify_health_of_metrocluster_config.html">
        Verify the health of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/check_for_metrocluster_config_errors.html">
        Check for MetroCluster configuration errors
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/verify_switchover_healing_switchback.html">
        Verify switchover, healing, and switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/overview_of_the_arl_upgrade.html">
        Overview of the ARL upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/upgrade_node_pair.html">
        Upgrade the node pair
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 1. Prepare for upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/stage_1_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/prepare_nodes_for_upgrade.html">
        Prepare the nodes for upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/get_ip_address_of_external_kms_for_storage_encryption.html">
        Get an IP address of an external key management server for storage encryption
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 2. Relocate and retire node1</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/stage_2_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/relocate_non_root_aggr_nas_data_lifs_node1_node2.html">
        Relocate non-root aggregates and NAS data LIFs owned by node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/relocate_failed_vetoed_aggr.html">
        Relocate failed or vetoed aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/retire_node1.html">
        Retire node1
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/prepare_for_netboot.html">
        Prepare for netboot
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 3. Install and boot node3</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/stage_3_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/install_boot_node3.html">
        Install and boot node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/set_fc_or_uta_uta2_config_on_node3.html">
        Set the FC or UTA/UTA2 configuration on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/verify_node3_installation.html">
        Verify the node3 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/restore_key-manager_configuration_node3.html">
        Restore key-manager configuration on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/move_non-root_aggr_and_nas_data_lifs_node1_from_node2_to_node3.html">
        Move non-root aggregates and NAS data LIFs owned by node1 from node2 to node3
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 4. Relocate and retire node2</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/stage_4_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/relocate_non_root_aggr_nas_lifs_from_node2_to_node3.html">
        Relocate non-root aggregates and NAS data LIFs from node2 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/retire_node2.html">
        Retire node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 5. Install and boot node4</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/stage_5_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/install_boot_node4.html">
        Install and boot node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/set_fc_or_uta_uta2_config_node4.html">
        Set the FC or UTA/UTA2 configuration on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/verify_node4_installation.html">
        Verify the node4 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/restore_key-manager_config_node4.html">
        Restore key-manager configuration on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/move_non_root_aggr_and_nas_data_lifs_node2_from_node3_to_node4.html">
        Move non-root aggregates and NAS data LIFs owned by node2 from node3 to node4
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 6. Complete the upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/stage_6_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/ensure_new_controllers_are_set_up_correctly.html">
        Ensure that the new controllers are set up correctly
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/set_up_storage_encryption_new_module.html">
        Set up Storage Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/set_up_netapp_volume_encryption_new_module.html">
        Set up NetApp Volume Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/decommission_old_system.html">
        Decommission the old system
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/resume_snapmirror_operations.html">
        Resume SnapMirror operations
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Troubleshoot</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/troubleshoot_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/aggregate_relocation_failures.html">
        Aggregate relocation failures
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/reboots_panics_or_power_cycles.html">
        Reboots, panics, or power cycles
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/issues_in_multiple_stages_of_procedure.html">
        Issues that can arise in multiple stages of the procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/lif_migration_failure.html">
        LIF migration failure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto-app/other_references.html">
        References
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Manually upgrade controller hardware running ONTAP 9.8 or later</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/decide_to_use_arl_guide.html">
        Decide whether to use the aggregate relocation content
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/arl_upgrade_workflow.html">
        ARL upgrade workflow
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/guidelines_upgrade_with_arl.html">
        Guidelines for upgrading controllers with ARL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/required_tools_documentation.html">
        Required tools and documentation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/worksheet_information_before_during_upgrade.html">
         Worksheet:  Information to collect before and during the controller upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/upgrade_node_pair.html">
        Upgrade the node pair
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 1. Prepare for upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/stage_1_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/determine_aggregates_on_internal_drives.html">
        Determine whether the controller has aggregates on internal disk drives
      </a></li><li class="  active "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html">
        Prepare the nodes for upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/get_address_key_management_server_encryption.html">
        Get an IP address of an external key management server for storage encryption
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/manage_authentication_kmip.html">
        Manage authentication using KMIP servers
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/manage_authentication_okm.html">
        Manage authentication using an onboard key manager
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/quiesce_snapmirror_relationships.html">
        Quiesce the SnapMirror relationships
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_for_netboot.html">
        Prepare for netboot
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 2. Relocate and retire node1</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/stage_2_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/relocate_non_root_aggr_node1_node2.html">
        Relocate non-root aggregates from node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/move_nas_lifs_node1_node2.html">
        Move NAS data LIFs owned by node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/record_node1_information.html">
        Record node1 information
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/retire_node1.html">
        Retire node1
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 3. Install and boot node3</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/stage_3_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/install_boot_node3.html">
        Install and boot node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/set_fc_uta_uta2_config_node3.html">
        Set the FC or UTA/UTA2 configuration on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/map_ports_node1_node3.html">
        Map ports from node1 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/move_nas_lifs_node1_from_node2_node3_verify_san_lifs_node3.html">
        Move NAS data LIFs owned by node1 from node2 to node3 and verify SAN LIFs on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/relocate_non_root_aggr_node2_node3.html">
        Relocate non-root aggregates from node2 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/move_nas_lifs_node2_node3.html">
        Move NAS data LIFs owned by node2 to node3
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 4. Record information and retire node2</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/stage_4_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/record_node2_information.html">
        Record node2 information
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/retire_node2.html">
        Retire node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 5. Install and boot node4</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/stage_5_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/install_boot_node4.html">
        Install and boot node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/set_fc_uta_uta2_config_node4.html">
        Set the FC or UTA/UTA2 configuarion on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/map_ports_node2_node4.html">
        Map ports from node2 to node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/move_nas_lifs_node2_from_node3_node4_verify_san_lifs_node4.html">
        Move NAS data LIFs owned by node2 from node3 to node4 and verify SAN LIFs on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/relocate_node2_non_root_aggr_node3_node4.html">
        Relocate node2's non-root aggregates from node3 to node4
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 6. Complete the upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/stage_6_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/ensure_controllers_set_up_correctly.html">
        Ensure that the new controllers are set up correctly
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/set_up_storage_encryption_new_controller.html">
        Set up Storage Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/set_up_netapp_encryption_on_new_controller.html">
        Set up NetApp Volume Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/decommission_old_system.html">
        Decommission the old system
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/resume_snapmirror_ops.html">
        Resume SnapMirror operations
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Troubleshoot</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/troubleshoot_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/aggregate_relocation_failures.html">
        Aggregate relocation failures
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/reboots_panics_power_cycles.html">
        Reboots, panics, or power cycles
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/issues_multiple_stages_of_procedure.html">
        Issues that can arise in multiple stages of the procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/lif_migration_failure.html">
        LIF migration failure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/lifs_invalid_ports_after_upgrade.html">
        LIFs are on invalid ports after upgrade
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/other_references.html">
        References
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Use "system controller replace" commands to upgrade controller hardware running ONTAP 9.5 to 9.7</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/automate_the_controller_upgrade_process.html">
        Automate the controller upgrade process
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/decide_to_use_the_aggregate_relocation_guide.html">
        Decide whether to use the aggregate relocation content
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/required_tools_and_documentation.html">
        Required tools and documentation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/guidelines_for_upgrading_controllers_with_arl.html">
        Guidelines for upgrading controllers with ARL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/verify_health_of_metrocluster_config.html">
        Verify the health of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/check_metrocluster_config_errors.html">
        Check for MetroCluster configuration errors
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/verify_switchover_healing_switchback.html">
        Verify switchover, healing, and switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/overview_of_the_arl_upgrade.html">
        Overview of the ARL upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/upgrade_node_pair.html">
        Upgrade the node pair
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 1. Prepare for upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/stage_1_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/prepare_nodes_for_upgrade.html">
        Prepare the nodes for upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/get_ip_address_of_external_kms_for_storage_encryption.html">
        Get an IP address of an external key management server for storage encryption
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 2. Relocate and retire node1</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/stage_2_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/relocate_non_root_aggr_and_nas_data_lifs_node1_node2.html">
        Relocate non-root aggregates and NAS data LIFs owned by node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/relocate_failed_or_vetoed_aggr.html">
        Relocate failed or vetoed aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/retire_node1.html">
        Retire node1
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/prepare_for_netboot.html">
        Prepare for netboot
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 3. Install and boot node3</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/stage_3_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/install_boot_node3.html">
        Install and boot node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/set_fc_or_uta_uta2_config_on_node3.html">
        Set the FC or UTA/UTA2 configuration on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/map_ports_node1_node3.html">
        Map ports from node1 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/join_quorum_node_has_different_ports_stage3.html">
        Join the quorum when a node has a different set of network ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/verify_node3_installation.html">
        Verify the node3 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/move_non_root_aggr_nas_lifs_node1_from_node2_to_node3.html">
        Move non-root aggregates and NAS data LIFs owned by node1 from node2 to node3
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 4. Relocate and retire node</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/stage_4_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/relocate_non_root_aggr_nas_lifs_from_node2_to_node3.html">
        Relocate non-root aggregates and NAS data LIFs from node2 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/retire_node2.html">
        Retire node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 5. Install and boot node4</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/stage_5_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/install_boot_node4.html">
        Install and boot node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/set_fc_or_uta_uta2_config_node4.html">
        Set the FC or UTA/UTA2 configuration on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/map_ports_node2_node4.html">
        Map ports from node2 to node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/join_quorum_node_has_different_ports_stage5.html">
        Join the quorum when a node has a different set of network ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/verify_node4_installation.html">
        Verify the node4 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/move_non_root_aggr_and_nas_data_lifs_node2_from_node3_to_node4.html">
        Move non-root aggregates and NAS data LIFs owned by node2 from node3 to node4
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 6. Complete the upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/stage_6_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/ensure_new_controllers_are_set_up_correctly.html">
        Ensure that the new controllers are set up correctly
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/set_up_storage_encryption_new_module.html">
        Set up Storage Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/set_up_netapp_volume_encryption_new_module.html">
        Set up NetApp Volume Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/decommission_old_system.html">
        Decommission the old system
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/resume_snapmirror_operations.html">
        Resume SnapMirror operations
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Troubleshoot</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/troubleshoot_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/aggregate_relocation_failures.html">
        Aggregate relocation failures
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/reboots_panics_or_power_cycles.html">
        Reboots, panics, or power cycles
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/issues_in_multiple_stages_of_procedure.html">
        Issues that can arise in multiple stages of the procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/lif_migration_failure.html">
        LIF migration failure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-auto/other_references.html">
        References
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Manually upgrade controller hardware running ONTAP 9.7 or earlier</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/decide_to_use_arl_guide.html">
        Decide whether to use the aggregate relocation content
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/arl_upgrade_workflow.html">
        ARL upgrade workflow
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/guidelines_upgrade_with_arl.html">
        Guidelines for upgrading controllers with ARL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/required_tools_documentation.html">
        Required tools and documentation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/worksheet_information_before_during_upgrade.html">
         Worksheet:  Information to collect before and during the controller upgrade
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Reconfigure the FC switch layout for ONTAP 9.1 or later</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/reconfig_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/send_custom_asup_message_prior_reconfig_switches.html">
        Send a custom AutoSupport message prior to reconfiguring switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/verify_health_mcc_config.html">
        Verify the health of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/check_mcc_config_errors.html">
        Check for MetroCluster configuration errors
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/persist_disable_switches.html">
        Persistently disable the switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/determine_new_cabling_layout.html">
        Determine the new cabling layout
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/apply_RCF_files_recable_switches.html">
        Apply RCF files and recable the switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/persist_enable_switches.html">
        Persistently enable the switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/verify_swtichover_healing_switchback.html">
        Verify switchover, healing, and switchback
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/upgrade_node_pair.html">
        Upgrade the node pair
      </a></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 1. Prepare for upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/stage_1_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/determine_aggregates_on_internal_drives.html">
        Determine whether the controller has aggregates on internal disk drives
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/prepare_nodes_for_upgrade.html">
        Prepare the nodes for upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/get_address_key_management_server_encryption.html">
        Get an IP address of an external key management server for storage encryption
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/manage_authentication_kmip.html">
        Manage authentication using KMIP servers
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/manage_authentication_okm.html">
        Manage authentication using an onboard key manager
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/quiesce_snapmirror_relationships.html">
        Quiesce the SnapMirror relationships
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/prepare_for_netboot.html">
        Prepare for netboot
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 2. Relocate and retire node1</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/stage_2_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/relocate_non_root_aggr_node1_node2.html">
        Relocate non-root aggregates from node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/move_nas_lifs_node1_node2.html">
        Move NAS data LIFs owned by node1 to node2
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/record_node1_information.html">
        Record node1 information
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/retire_node1.html">
        Retire node1
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 3. Install and boot node3</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/stage_3_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/install_boot_node3.html">
        Install and boot node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/set_fc_uta_uta2_config_node3.html">
        Set the FC or UTA/UTA2 configuration on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/map_ports_node1_node3.html">
        Map ports from node1 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/verify_node3_installation.html">
        Verify the node3 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/move_nas_lifs_node1_from_node2_node3_verify_san_lifs_node3.html">
        Move NAS data LIFs owned by node1 from node2 to node3 and verify SAN LIFs on node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/relocate_non_root_aggr_node2_node3.html">
        Relocate non-root aggregates from node2 to node3
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/move_nas_lifs_node2_node3.html">
        Move NAS data LIFs owned by node2 to node3
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 4. Record information and retire node2</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/stage_4_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/record_node2_information.html">
        Record node2 information
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/retire_node2.html">
        Retire node2
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 5. Install and boot node4</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/stage_5_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/install_boot_node4.html">
        Install and boot node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/set_fc_uta_uta2_config_node4.html">
        Set the FC or UTA/UTA2 configuarion on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/map_ports_node2_node4.html">
        Map ports from node2 to node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/verify_node4_installation.html">
        Verify the node4 installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/move_nas_lifs_node2_from_node3_node4_verify_san_lifs_node4.html">
        Move NAS data LIFs owned by node2 from node3 to node4 and verify SAN LIFs on node4
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/relocate_node2_non_root_aggr_node3_node4.html">
        Relocate node2's non-root aggregates from node3 to node4
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Stage 6. Complete the upgrade</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/stage_6_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/ensure_controllers_set_up_correctly.html">
        Ensure that the new controllers are set up correctly
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/set_up_storage_encryption_new_controller.html">
        Set up Storage Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/set_up_netapp_encryption_on_new_controller.html">
        Set up NetApp Volume Encryption on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/decommission_old_system.html">
        Decommission the old system
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/resume_snapmirror_ops.html">
        Resume SnapMirror operations
      </a></li></ul></li><li class="subfolders "><a href="#">
        <div class="na-navbar-padding"> Troubleshoot</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/troubleshoot_index.html">
        Overview
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/aggregate_relocation_failures.html">
        Aggregate relocation failures
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/reboots_panics_power_cycles.html">
        Reboots, panics, or power cycles
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/issues_multiple_stages_of_procedure.html">
        Issues that can arise in multiple stages of the procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/lif_migration_failure.html">
        LIF migration failure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/lifs_invalid_ports_after_upgrade.html">
        LIFs are on invalid ports after upgrade
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-systems-upgrade/upgrade-arl-manual/other_references.html">
        References
      </a></li></ul></li></ul></li></ul>
</div>
<script>
  window.onscroll = () => {
    const value = -40 - (document.body.scrollHeight - (window.innerHeight + document.scrollingElement.scrollTop));
    
    document.getElementById("sidebar-height").style.bottom = Math.max(0,value) + "px";
};
</script>
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container -->
    <article class="page-content">
      <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://www.netapp.com">Home</a>
        </li>
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">Documentation</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/us-en/ontap-systems-upgrade/">AFF&nbsp;and&nbsp;FAS&nbsp;Controller&nbsp;Upgrade</a>
        </li>
        <li class="n-breadcrumb__list-item">
          Prepare the nodes for upgrade
        </li>
      </ul>
    </div>
    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>

      <div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Prepare the nodes for upgrade</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2022-02-22 08:06:13 +0000">02/22/2022</time>
    
  

<span>Contributors
  <a target="_blank" href="https://github.com/netapp-pcarriga">
    <img  class="avatar avatar-small"
          alt="netapp-pcarriga"
          width="20" height="20"
          src="https://avatars.githubusercontent.com/u/77334475?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>


</p>


<div class="paragraph lead">
<p>Before you can replace the original nodes, you must ensure that they are in an HA pair, have no missing or failed disks, can access each other&#8217;s storage, and do not own data LIFs assigned to the other nodes in the cluster. You also need to collect information about the original nodes and, if the cluster is in a SAN environment, ensure that all the nodes in the cluster are in quorum.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Ensure that each of the original nodes has enough resources to adequately support the workload of both nodes during takeover mode.</p>
<div class="paragraph">
<p>Refer to <a href="other_references.html">References</a> to link to <em>High Availability management</em> and follow the <em>Best practices for HA pairs</em> section. Neither of the original nodes should be running at more than 50 percent utilization; if a node is running at less than 50 percent utilization, it can handle the loads for both nodes during the controller upgrade.</p>
</div>
</li>
<li>
<p>Complete the following substeps to create a performance baseline for the original nodes:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make sure that the diagnostic user account is unlocked.</p>
<div class="paragraph">
<p><strong>Important</strong>: The diagnostic user account is intended only for low-level diagnostic purposes and should be used only with guidance from technical support.</p>
</div>
<div class="paragraph">
<p><strong>Important</strong>: For information about unlocking the user accounts, refer to <a href="other_references.html">References</a> to link to the <em>System Administration Reference</em>.</p>
</div>
</li>
<li>
<p>Refer to <a href="other_references.html">References</a> to link to the <em>NetApp Support Site</em> and download the Performance and Statistics Collector (Perfstat Converged).</p>
<div class="paragraph">
<p>The Perfstat Converged tool lets you establish a performance baseline for comparison after the upgrade.</p>
</div>
</li>
<li>
<p>Create a performance baseline, following the instructions on the NetApp Support Site.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Refer to <a href="other_references.html">References</a> to link to the <em>NetApp Support Site</em> and open a support case on the NetApp Support Site.</p>
<div class="paragraph">
<p>You can use the case to report any issues that might arise during the upgrade.</p>
</div>
</li>
<li>
<p>Verify that NVMEM or NVRAM batteries of node3 and node4 are charged, and charge them if they are not.</p>
<div class="paragraph">
<p>You need to physically check node3 and node4 to see if the NVMEM or NVRAM batteries are charged. For information about the LEDs for the model of node3 and node4, refer to <a href="other_references.html">References</a> to link to the <em>Hardware Universe</em>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/warning.svg" alt="Warning">
</td>
<td class="content">
<strong>Attention</strong> Do not try to clear the NVRAM contents. If there is a need to clear the contents of NVRAM, contact NetApp technical support.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Check the version of ONTAP on node3 and node4.</p>
<div class="paragraph">
<p>The new nodes must have the same version of ONTAP 9.x installed on them that is installed on the original nodes. If the new nodes have a different version of ONTAP installed, you need to netboot the new controllers after you install them. For instructions on how to upgrade ONTAP, refer to <a href="other_references.html">References</a> to link to <em>Upgrade ONTAP</em>.</p>
</div>
<div class="paragraph">
<p>Information about the version of ONTAP on node3 and node4 should be included in the shipping boxes. The ONTAP version is displayed when the node boots up or you can boot the node to maintenance mode and run the command:</p>
</div>
<div class="paragraph">
<p><code>version</code></p>
</div>
</li>
<li>
<p>Check whether you have two or four cluster LIFs on node1 and node 2:</p>
<div class="paragraph">
<p><code>network interface show -role cluster</code></p>
</div>
<div class="paragraph">
<p>The system displays any cluster LIFs, as shown in the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface show -role cluster
        Logical    Status     Network          Current  Current Is
Vserver Interface  Admin/Oper Address/Mask     Node     Port    Home
------- ---------- ---------- ---------------- -------- ------- ----
node1
        clus1      up/up      172.17.177.2/24  node1    e0c     true
        clus2      up/up      172.17.177.6/24  node1    e0e     true
node2
        clus1      up/up      172.17.177.3/24  node2    e0c     true
        clus2      up/up      172.17.177.7/24  node2    e0e     true</pre>
</div>
</div>
</li>
<li>
<p>If you have two or four cluster LIFs on node1 or node2, make sure that you can ping both cluster LIFs across all the available paths by completing the following substeps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the advanced privilege level:</p>
<div class="paragraph">
<p><code>set -privilege advanced</code></p>
</div>
<div class="paragraph">
<p>The system displays the following message:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Warning: These advanced commands are potentially dangerous; use them only when directed to do so by NetApp personnel.
Do you wish to continue? (y or n):</pre>
</div>
</div>
</li>
<li>
<p>Enter <code>y</code>.</p>
</li>
<li>
<p>Ping the nodes and test the connectivity:</p>
<div class="paragraph">
<p><code>cluster ping-cluster -node node_name</code></p>
</div>
<div class="paragraph">
<p>The system displays a message similar to the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::*&gt; cluster ping-cluster -node node1
Host is node1
Getting addresses from network interface table...
Local = 10.254.231.102 10.254.91.42
Remote = 10.254.42.25 10.254.16.228
Ping status:
...
Basic connectivity succeeds on 4 path(s) Basic connectivity fails on 0 path(s)
................
Detected 1500 byte MTU on 4 path(s):
Local 10.254.231.102 to Remote 10.254.16.228
Local 10.254.231.102 to Remote 10.254.42.25
Local 10.254.91.42 to Remote 10.254.16.228
Local 10.254.91.42 to Remote 10.254.42.25
Larger than PMTU communication succeeds on 4 path(s)
RPC status:
2 paths up, 0 paths down (tcp check)
2 paths up, 0 paths down (udp check)</pre>
</div>
</div>
<div class="paragraph">
<p>If the node uses two cluster ports, you should see that it is able to communicate on four paths, as shown in the example.</p>
</div>
</li>
<li>
<p>Return to the administrative level privilege:</p>
<div class="paragraph">
<p><code>set -privilege admin</code></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Ensure that node1 and node2 are in an HA pair and verify that the nodes are connected to each other, and that takeover is possible:</p>
<div class="paragraph">
<p><code>storage failover show</code></p>
</div>
<div class="paragraph">
<p>The following example shows the output when the nodes are connected to each other and<br>
takeover is possible:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage failover show
                              Takeover
Node           Partner        Possible State Description
-------------- -------------- -------- -------------------------------
node1          node2          true     Connected to node2
node2          node1          true     Connected to node1</pre>
</div>
</div>
<div class="paragraph">
<p>Neither node should be in partial giveback. The following example shows that node1 is in partial giveback:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage failover show
                              Takeover
Node           Partner        Possible State Description
-------------- -------------- -------- -------------------------------
node1          node2          true     Connected to node2, Partial giveback
node2          node1          true     Connected to node1</pre>
</div>
</div>
<div class="paragraph">
<p>If either node is in partial giveback, use the <code>storage failover giveback</code> command to perform the giveback, and then use the <code>storage failover show-giveback</code> command to make sure that no aggregates still need to be given back. For detailed information about the commands, refer to <a href="other_references.html">References</a> to link to <em>High Availability management</em>.</p>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step9"></a>Ensure that neither node1 nor node2 owns the aggregates for which it is the current owner (but not the home owner):</p>
<div class="paragraph">
<p><code>storage aggregate show -node &lt;node_name&gt; -is-home false -fields owner-name,homename,state</code></p>
</div>
<div class="paragraph">
<p>If neither node1 nor node2 owns aggregates for which it is the current owner (but not the home owner), the system will return a message similar to the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage aggregate show -node node2 -is-home false -fields owner-name,homename,state
There are no entries matching your query.</pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows the output of the command for a node named node2 that is the home owner, but not the current owner, of four aggregates:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage aggregate show -node node2 -is-home false
               -fields owner-name,home-name,state

aggregate     home-name    owner-name   state
------------- ------------ ------------ ------
aggr1         node1        node2        online
aggr2         node1        node2        online
aggr3         node1        node2        online
aggr4         node1        node2        online

4 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Take one of the following actions:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">If the command in <a href="#man_prepare_nodes_step9">Step 9</a>&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">Then&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Had blank output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skip Step 11 and go to <a href="#man_prepare_nodes_step12">Step 12</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Had output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to <a href="#man_prepare_nodes_step11">Step 11</a>.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a id="man_prepare_nodes_step11"></a> If either node1 or node2 owns aggregates for which it is the current owner but not the home owner, complete the following substeps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Return the aggregates currently owned by the partner node to the home owner node:</p>
<div class="paragraph">
<p><code>storage failover giveback -ofnode &lt;home_node_name&gt;</code></p>
</div>
</li>
<li>
<p>Verify that neither node1 nor node2 still owns aggregates for which it is the current owner (but not the home owner):</p>
<div class="paragraph">
<p><code>storage aggregate show -nodes &lt;node_name&gt; -is-home false -fields owner-name,home-name,state</code></p>
</div>
<div class="paragraph">
<p>The following example shows the output of the command when a node is both the current owner and home owner of aggregates:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage aggregate show -nodes node1
          -is-home true -fields owner-name,home-name,state

aggregate     home-name    owner-name   state
------------- ------------ ------------ ------
aggr1         node1        node1        online
aggr2         node1        node1        online
aggr3         node1        node1        online
aggr4         node1        node1        online

4 entries were displayed.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step12"></a> Ensure that node1 and node2 can access each other&#8217;s storage and verify that no disks are missing:</p>
<div class="paragraph">
<p><code>storage failover show -fields local-missing-disks,partner-missing-disks</code></p>
</div>
<div class="paragraph">
<p>The following example shows the output when no disks are missing:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage failover show -fields local-missing-disks,partner-missing-disks

node     local-missing-disks partner-missing-disks
-------- ------------------- ---------------------
node1    None                None
node2    None                None</pre>
</div>
</div>
<div class="paragraph">
<p>If any disks are missing, refer to <a href="other_references.html">References</a> to link to <em>Disk and aggregate management with the CLI</em>, <em>Logical storage management with the CLI</em>, and <em>High Availability management</em> to configure storage for the HA pair.</p>
</div>
</li>
<li>
<p>Ensure that node1 and node2 are healthy and eligible to participate in the cluster:</p>
<div class="paragraph">
<p><code>cluster show</code></p>
</div>
<div class="paragraph">
<p>The following example shows the output when both nodes are eligible and healthy:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; cluster show

Node                  Health  Eligibility
--------------------- ------- ------------
node1                 true    true
node2                 true    true</pre>
</div>
</div>
</li>
<li>
<p>Set the privilege level to advanced:</p>
<div class="paragraph">
<p><code>set -privilege advanced</code></p>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step15"></a> Ensure that node1 and node2 are running the same ONTAP release:</p>
<div class="paragraph">
<p><code>system node image show -node &lt;node1,node2&gt; -iscurrent true</code></p>
</div>
<div class="paragraph">
<p>The following example shows the output of the command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::*&gt; system node image show -node node1,node2 -iscurrent true

                 Is      Is                Install
Node     Image   Default Current Version   Date
-------- ------- ------- ------- --------- -------------------
node1
         image1  true    true    9.1         2/7/2017 20:22:06
node2
         image1  true    true    9.1         2/7/2017 20:20:48

2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Verify that neither node1 nor node2 owns any data LIFs that belong to other nodes in the cluster and check the <code>Current Node</code> and <code>Is Home</code> columns in the output:</p>
<div class="paragraph">
<p><code>network interface show -role data -is-home false -curr-node &lt;node_name&gt;</code></p>
</div>
<div class="paragraph">
<p>The following example shows the output when node1 has no LIFs that are home-owned by other nodes in the cluster:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface show -role data -is-home false -curr-node node1
 There are no entries matching your query.</pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows the output when node1 owns data LIFs home-owned by the other node:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface show -role data -is-home false -curr-node node1

            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
vs0
            data1      up/up      172.18.103.137/24  node1         e0d     false
            data2      up/up      172.18.103.143/24  node1         e0f     false

2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>If the output in <a href="#man_prepare_nodes_step15">Step 15</a> shows that either node1 or node2 owns any data LIFs home-owned by other nodes in the cluster, migrate the data LIFs away from node1 or node2:</p>
<div class="paragraph">
<p><code>network interface revert -vserver * -lif *</code></p>
</div>
<div class="paragraph">
<p>For detailed information about the <code>network interface revert</code> command, refer to <a href="other_references.html">References</a> to link to the <em>ONTAP 9 Commands: Manual Page Reference</em>.</p>
</div>
</li>
<li>
<p>Check whether node1 or node2 owns any failed disks:</p>
<div class="paragraph">
<p><code>storage disk show -nodelist &lt;node1,node2&gt; -broken</code></p>
</div>
<div class="paragraph">
<p>If any of the disks have failed, remove them, following instructions in the <em>Disk and aggregate management with the CLI</em>. (Refer to <a href="other_references.html">References</a> to link to <em>Disk and aggregate management with the CLI</em>.)</p>
</div>
</li>
<li>
<p>Collect information about node1 and node2 by completing the following substeps and recording the output of each command:</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/note.svg" alt="Note">
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>You will use this information later in the procedure.</p>
</li>
<li>
<p>If you have a system with more than two cluster ports per node, such as an FAS8080 or an AFF8080, you must consolidate the cluster LIFs to two cluster ports per node before you start the controller upgrade. If you perform the controller upgrade with more than two cluster ports per node, cluster LIFs might be missing on the new controller after the upgrade.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Record the model, system ID, and serial number of both nodes:</p>
<div class="paragraph">
<p><code>system node show -node &lt;node1,node2&gt; -instance</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/note.svg" alt="Note">
</td>
<td class="content">
You will use the information to reassign disks and decommission the original nodes.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enter the following command on both node1 and node2 and record information about the shelves, number of disks in each shelf, flash storage details, memory, NVRAM, and network cards from the output:</p>
<div class="paragraph">
<p><code>run -node &lt;node_name&gt; sysconfig</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/note.svg" alt="Note">
</td>
<td class="content">
You can use the information to identify parts or accessories that you might want to transfer to node3 or node4. If you do not know if the nodes are V-Series systems or have FlexArray Virtualization software, you can learn that also from the output.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enter the following command on both node1 and node2 and record the aggregates that are online on both nodes:</p>
<div class="paragraph">
<p><code>storage aggregate show -node &lt;node_name&gt; -state online</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/note.svg" alt="Note">
</td>
<td class="content">
You can use this information and the information in the following substep to verify that the aggregates and volumes remain online throughout the procedure, except for the brief period when they are offline during relocation.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step19"></a>Enter the following command on both node1 and node2 and record the volumes that are offline on both nodes:</p>
<div class="paragraph">
<p><code>volume show -node &lt;node_name&gt; -state offline</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/note.svg" alt="Note">
</td>
<td class="content">
After the upgrade, you will run the command again and compare the output with the output in this step to see if any other volumes have gone offline.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Enter the following commands to see if any interface groups or VLANs are configured on node1 or node2:</p>
<div class="paragraph">
<p><code>network port ifgrp show</code></p>
</div>
<div class="paragraph">
<p><code>network port vlan show</code></p>
</div>
<div class="paragraph">
<p>Make note of whether interface groups or VLANs are configured on node1 or node2; you need that information in the next step and later in the procedure.</p>
</div>
</li>
<li>
<p>Complete the following substeps on both node1 and node2 to ensure that physical ports can be mapped correctly later in the procedure:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the following command to see if there are failover groups on the node other than <code>clusterwide</code>:</p>
<div class="paragraph">
<p><code>network interface failover-groups show</code></p>
</div>
<div class="paragraph">
<p>Failover groups are sets of network ports present on the system. Because upgrading the controller hardware can change the location of physical ports, failover groups can be inadvertently changed during the upgrade.</p>
</div>
<div class="paragraph">
<p>The system displays failover groups on the node, as shown in the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface failover-groups show

Vserver             Group             Targets
------------------- ----------------- ----------
Cluster             Cluster           node1:e0a, node1:e0b
                                      node2:e0a, node2:e0b

fg_6210_e0c         Default           node1:e0c, node1:e0d
                                      node1:e0e, node2:e0c
                                      node2:e0d, node2:e0e

2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>If there are failover groups present other than <code>clusterwide</code>, record the failover group names and the ports that belong to the failover groups.</p>
</li>
<li>
<p>Enter the following command to see if there are any VLANs configured on the node:</p>
<div class="paragraph">
<p><code>network port vlan show -node &lt;node_name&gt;</code></p>
</div>
<div class="paragraph">
<p>VLANs are configured over physical ports. If the physical ports change, then the VLANs will need to be re-created later in the procedure.</p>
</div>
<div class="paragraph">
<p>The system displays VLANs configured on the node, as shown in the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network port vlan show

Network Network
Node    VLAN Name Port    VLAN ID MAC Address
------  --------- ------- ------- ------------------
node1   e1b-70    e1b     70      00:15:17:76:7b:69</pre>
</div>
</div>
</li>
<li>
<p>If there are VLANs configured on the node, take note of each network port and VLAN ID pairing.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Take one of the following actions:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">If interface groups or VLANS are&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">Then&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">On node1 or node2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete <a href="#man_prepare_nodes_step23">Step 23</a> and <a href="#man_prepare_nodes_step24">Step 24</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not on node1 or node2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to <a href="#man_prepare_nodes_step24">Step 24</a>.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a id="man_prepare_nodes_step23"></a> If you do not know if node1 and node2 are in a SAN or non-SAN environment, enter the following command and examine its output:</p>
<div class="paragraph">
<p><code>network interface show -vserver &lt;vserver_name&gt; -data-protocol iscsi|fcp</code></p>
</div>
<div class="paragraph">
<p>If neither iSCSI nor FC is configured for the SVM, the command will display a message similar to the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface show -vserver Vserver8970 -data-protocol iscsi|fcp
There are no entries matching your query.</pre>
</div>
</div>
<div class="paragraph">
<p>You can confirm that the node is in a NAS environment by using the <code>network interface show</code> command with the <code>-data-protocol nfs|cifs</code> parameters.</p>
</div>
<div class="paragraph">
<p>If either iSCSI or FC is configured for the SVM, the command will display a message similar to the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface show -vserver vs1 -data-protocol iscsi|fcp

         Logical    Status     Network            Current  Current Is
Vserver  Interface  Admin/Oper Address/Mask       Node     Port    Home
-------- ---------- ---------- ------------------ -------- ------- ----
vs1      vs1_lif1   up/down    172.17.176.20/24   node1    0d      true</pre>
</div>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step24"></a>Verify that all the nodes in the cluster are in quorum by completing the following substeps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the advanced privilege level:</p>
<div class="paragraph">
<p><code>set -privilege advanced</code></p>
</div>
<div class="paragraph">
<p>The system displays the following message:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Warning: These advanced commands are potentially dangerous; use them only when directed to do so by NetApp personnel.
Do you wish to continue? (y or n):</pre>
</div>
</div>
</li>
<li>
<p>Enter <code>y</code>.</p>
</li>
<li>
<p>Verify the cluster service state in the kernel, once for each node:</p>
<div class="paragraph">
<p><code>cluster kernel-service show</code></p>
</div>
<div class="paragraph">
<p>The system displays a message similar to the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::*&gt; cluster kernel-service show

Master        Cluster       Quorum        Availability  Operational
Node          Node          Status        Status        Status
------------- ------------- ------------- ------------- -------------
node1         node1         in-quorum     true          operational
              node2         in-quorum     true          operational

2 entries were displayed.</pre>
</div>
</div>
<div class="paragraph">
<p>Nodes in a cluster are in quorum when a simple majority of nodes are healthy and can communicate with each other. For more information, refer to <a href="other_references.html">References</a> to link to the <em>System Administration Reference</em>.</p>
</div>
</li>
<li>
<p>Return to the administrative privilege level:</p>
<div class="paragraph">
<p><code>set -privilege admin</code></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Take one of the following actions:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">If the cluster&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">Then&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Has SAN configured</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to <a href="#man_prepare_nodes_step26">Step 26</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not have SAN configured</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to <a href="#man_prepare_nodes_step29">Step 29</a>.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a id="man_prepare_nodes_step26"></a>Verify that there are SAN LIFs on node1 and node2 for each SVM that has either SAN iSCSI or FC service enabled by entering the following command and examining its output:</p>
<div class="paragraph">
<p><code>network interface show -data-protocol iscsi|fcp -home-node &lt;node_name&gt;</code></p>
</div>
<div class="paragraph">
<p>The command displays SAN LIF information for node1 and node2. The following examples show the status in the Status Admin/Oper column as up/up, indicating that SAN iSCSI and FC service are enabled:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; network interface show -data-protocol iscsi|fcp
            Logical    Status     Network                  Current   Current Is
Vserver     Interface  Admin/Oper Address/Mask             Node      Port    Home
----------- ---------- ---------- ------------------       --------- ------- ----
a_vs_iscsi  data1      up/up      10.228.32.190/21         node1     e0a     true
            data2      up/up      10.228.32.192/21         node2     e0a     true

b_vs_fcp    data1      up/up      20:09:00:a0:98:19:9f:b0  node1     0c      true
            data2      up/up      20:0a:00:a0:98:19:9f:b0  node2     0c      true

c_vs_iscsi_fcp data1   up/up      20:0d:00:a0:98:19:9f:b0  node2     0c      true
            data2      up/up      20:0e:00:a0:98:19:9f:b0  node2     0c      true
            data3      up/up      10.228.34.190/21         node2     e0b     true
            data4      up/up      10.228.34.192/21         node2     e0b     true</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can view more detailed LIF information by entering the following<br>
command:</p>
</div>
<div class="paragraph">
<p><code>network interface show -instance -data-protocol iscsi|fcp</code></p>
</div>
</li>
<li>
<p>Capture the default configuration of any FC ports on the original nodes by entering the following command and recording the output for your systems:</p>
<div class="paragraph">
<p><code>ucadmin show</code></p>
</div>
<div class="paragraph">
<p>The command displays information about all FC ports in the cluster, as shown in the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; ucadmin show

                Current Current   Pending Pending   Admin
Node    Adapter Mode    Type      Mode    Type      Status
------- ------- ------- --------- ------- --------- -----------
node1   0a      fc      initiator -       -         online
node1   0b      fc      initiator -       -         online
node1   0c      fc      initiator -       -         online
node1   0d      fc      initiator -       -         online
node2   0a      fc      initiator -       -         online
node2   0b      fc      initiator -       -         online
node2   0c      fc      initiator -       -         online
node2   0d      fc      initiator -       -         online
8 entries were displayed.</pre>
</div>
</div>
<div class="paragraph">
<p>You can use the information after the upgrade to set the configuration of FC ports on the new nodes.</p>
</div>
</li>
<li>
<p>If you are upgrading a V-Series system or a system with FlexArray Virtualization software, capture information about the topology of the original nodes by entering the following command and recording the output:</p>
<div class="paragraph">
<p><code>storage array config show -switch</code></p>
</div>
<div class="paragraph">
<p>The system displays topology information, as show in the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; storage array config show -switch

      LUN LUN                                  Target Side Initiator Side Initi-
Node  Grp Cnt Array Name    Array Target Port  Switch Port Switch Port    ator
----- --- --- ------------- ------------------ ----------- -------------- ------
node1 0   50  I_1818FAStT_1
                            205700a0b84772da   vgbr6510a:5  vgbr6510s164:3  0d
                            206700a0b84772da   vgbr6510a:6  vgbr6510s164:4  2b
                            207600a0b84772da   vgbr6510b:6  vgbr6510s163:1  0c
node2 0   50  I_1818FAStT_1
                            205700a0b84772da   vgbr6510a:5  vgbr6510s164:1  0d
                            206700a0b84772da   vgbr6510a:6  vgbr6510s164:2  2b
                            207600a0b84772da   vgbr6510b:6  vgbr6510s163:3  0c
                            208600a0b84772da   vgbr6510b:5  vgbr6510s163:4  2a
7 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step29"></a>Complete the following substeps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the following command on one of the original nodes and record the output:</p>
<div class="paragraph">
<p><code>service-processor show -node * -instance</code></p>
</div>
<div class="paragraph">
<p>The system displays detailed information about the SP on both nodes.</p>
</div>
</li>
<li>
<p>Ensure that the SP status is <code>online</code>.</p>
</li>
<li>
<p>Ensure that the SP network is configured.</p>
</li>
<li>
<p>Record the IP address and other information about the SP.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You might want to reuse the network parameters of the remote management devices, in this case the SPs, from the original system for the SPs on the new nodes.<br>
For detailed information about the SP, refer to <a href="other_references.html">References</a> to link to the <em>System Administration Reference</em> and the <em>ONTAP 9 Commands: Manual Page Reference</em>.</p>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step30"></a>If you want the new nodes to have the same licensed functionality as the original nodes, enter the following command to see the cluster licenses on the original system:</p>
<div class="paragraph">
<p><code>system license show -owner *</code></p>
</div>
<div class="paragraph">
<p>The following example shows the site licenses for cluster1:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>system license show -owner *
Serial Number: 1-80-000013
Owner: cluster1

Package           Type    Description           Expiration
----------------- ------- --------------------- -----------
Base              site    Cluster Base License  -
NFS               site    NFS License           -
CIFS              site    CIFS License          -
SnapMirror        site    SnapMirror License    -
FlexClone         site    FlexClone License     -
SnapVault         site    SnapVault License     -
6 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Obtain new license keys for the new nodes at the  <em>NetApp Support Site</em>. Refer to <a href="other_references.html">References</a> to link to <em>NetApp Support Site</em>.</p>
<div class="paragraph">
<p>If the site does not have the license keys you need, contact your NetApp sales representative.</p>
</div>
</li>
<li>
<p>Check whether the original system has AutoSupport enabled by entering the following command on each node and examining its output:</p>
<div class="paragraph">
<p><code>system node autosupport show -node &lt;node1,node2&gt;</code></p>
</div>
<div class="paragraph">
<p>The command output shows whether AutoSupport is enabled, as shown in the following example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster::&gt; system node autosupport show -node node1,node2

Node             State     From          To                Mail Hosts
---------------- --------- ------------- ----------------  ----------
node1            enable    Postmaster    admin@netapp.com  mailhost

node2            enable    Postmaster    -                 mailhost
2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Take one of the following actions:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">If the original system&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">Then&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Has AutoSupport enabled&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Go to <a href="#man_prepare_nodes_step34">Step 34</a>.</p>
</li>
<li>
<p>Go to the section <a href="get_address_key_management_server_encryption.html">Get an IP address of an external key management server for Storage Encryption</a>.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not have AutoSupport enabled&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable AutoSupport by following the instructions in the <em>System Administration Reference</em>. (Refer to <a href="other_references.html">References</a> to link to the <em>System Administration Reference</em>.)</p>
<div class="paragraph">
<p><strong>Note:</strong>  AutoSupport is enabled by default when you configure your storage system for the first time. Although you can disable AutoSupport at any time, you should leave it enabled. Enabling AutoSupport can significantly help identify problems and solutions should a problem occur on your storage system.</p>
</div>
</li>
<li>
<p>Go to the <a href="get_address_key_management_server_encryption.html">Get an IP address of an external key management server for Storage Encryption</a> section.</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a id="man_prepare_nodes_step34"></a>Verify that AutoSupport is configured with the correct mailhost details and recipient e-mail IDs by entering the following command on both of the original nodes and examining the output:</p>
<div class="paragraph">
<p><code>system node autosupport show -node node_name -instance</code></p>
</div>
<div class="paragraph">
<p>For detailed information about AutoSupport, refer to <a href="other_references.html">References</a> to link to the <em>System Administration Reference</em> and the <em>ONTAP 9 Commands: Manual Page Reference</em>.</p>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step35"></a> Send an AutoSupport message to NetApp for node1 by entering the following command:</p>
<div class="paragraph">
<p><code>system node autosupport invoke -node node1 -type all -message "Upgrading node1 from platform_old to platform_new"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/ontap-systems-upgrade/images/note.svg" alt="Note">
</td>
<td class="content">
Do not send an AutoSupport message to NetApp for node2 at this point; you do so later in the procedure.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><a id="man_prepare_nodes_step36"></a> Verify that the AutoSupport message was sent by entering the following command and examining its output:</p>
<div class="paragraph">
<p><code>system node autosupport show -node &lt;node1&gt; -instance</code></p>
</div>
<div class="paragraph">
<p>The fields <code>Last Subject Sent:</code> and <code>Last Time Sent:</code> contain the message title of the last message sent and the time the message was sent.</p>
</div>
</li>
</ol>
</div>

    </article>
    <!-- Page Container -->
  </div>

  
  <!-- Start Page Toolbar -->
  <div class="page-nav-toolbar">
    <div id="version-dropdown"></div>
    <div class="page-nav-contribute"  >
      <a target="_blank" href="https://github.com/NetAppDocs/ontap-systems-upgrade/issues/new?body=Page%3A%20[Prepare the nodes for upgrade](https://docs.netapp.com/us-en/ontap-systems-upgrade/upgrade-arl-manual-app/prepare_nodes_for_upgrade.html)" class="page-nav-contribute-link" role="button"><img src="/us-en/ontap-systems-upgrade/images/discuss-sm.svg" class="github-icon" />Request doc changes</a>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap-systems-upgrade/blob/main/upgrade-arl-manual-app/prepare_nodes_for_upgrade.adoc" class="page-nav-contribute-link" role="button"><img src="/us-en/ontap-systems-upgrade/images/edit-sm.svg" class="github-icon" />Edit this page</a>
      <a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  ><img src="/us-en/ontap-systems-upgrade/images/article-sm.svg" class="github-icon" />Learn how to contribute</a>
    </div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  <div style="clear: both"></div><!-- Main needs to have height -->
</div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">

        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
            <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2022 NetApp, Inc.</a>
            </li>

</ul>
</div>
<div class="n-footer__social-links">
<ul class="n-footer__social-link-list">
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com" target="_blank" title="blog" alt="blog">
<span class="n-footer__social-link-text">blog</span>
<svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
  <title>blog@</title>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#blog"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/" target="_blank" title="community" alt="community">
<span class="n-footer__social-link-text">community</span>
<svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
<title>community@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#comments"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp" target="_blank" title="twitter" alt="twitter">
<span class="n-footer__social-link-text">twitter</span>
<svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
<title>twitter@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#twitter"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp" target="_blank" title="facebook" alt="facebook">
<span class="n-footer__social-link-text">facebook</span>
<svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
<title>facebook@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#facebook"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-linkedin" href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
<span class="n-footer__social-link-text">linkedin</span>
<svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
<title>linkedin@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#linkedin"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
<span class="n-footer__social-link-text">youtube</span>
<svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
<title>youtube@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#youtube"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-slideshare" href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
<span class="n-footer__social-link-text">slideshare</span>
<svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
<title>slideshare@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-systems-upgrade/common/svg/sprite.svg#slideshare"></use>
</svg>

</a>
</li>
</ul>
</div>

</div>
<div class="n-footer__bottom-right">
  <p class="n-footer__fine-print">Have feedback for our website?<a target="_self" href="javascript:netapp_mailto()" class="n-footer__copyright">Let us know</a>
  <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright">Announcements</a>
  </p>
</div>
</div>
</div>
</footer>

      </div>

      <!-- Elasticsearch JS -->
      <script type="text/javascript" src='/us-en/ontap-systems-upgrade/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/us-en/ontap-systems-upgrade/js/prism.js'></script>
      <script type="text/javascript" src='/us-en/ontap-systems-upgrade/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/us-en/ontap-systems-upgrade/js/www-ntap.js'></script>
    <script src='/us-en/ontap-systems-upgrade/js/tabbed-blocks.js'></script>
  </body>

  
</html>
